jQuery(function(i){i(document).ready(function(){if(0<(iframes=i(".content_block iframe")).length&&iframes.each(function(){i(this).wrap('<div class="responsive-iframe-embed"></div>')}),0<i(".table-block").length){let t=i(".post-content").outerWidth();i(".table-block").each(function(){i(this).find("table").outerWidth()>t&&i(this).addClass("overflow-x-scroll").find(".table-container").addClass("overflow-x-scroll")})}}),i("button.print-button").on("click",function(t){window.print()}),window.matchMedia("(max-width: 767px)").matches&&i(".text-container img.scrollable").parent().css({"overflow-x":"scroll"});var e=i(".see_more_btn"),a=e.attr("number_posts"),o=e.attr("number_toshow"),n=i(".post:visible").length,s=(i(".posts-block .categories.filter-on-page span").click(function(){var t=i(this).attr("data-category");i(".categories span").removeClass("active"),i(this).addClass("active"),i(".posts-block .post").hide(),i(".posts-block .post").each(function(){t?(i("."+t).show(),e.hide()):(a?(i(".post").hide(),i(".post:lt("+a+")").show()):i(this).show(),i(".posts-block .post").length>a&&e.css("display","block"))})}),a<n&&e.css("display","block"),a&&(i(".post").hide(),i(".post:lt("+a+")").show(),e.on("click",function(){var t=+a+ +o;i(".post").slice(a,t).show(),a=+a+ +o,n<=t&&e.hide()})),i(".accordion .accordion-header"));i(".accordion .accordion-header").on("click",function(t){$control=i(this);let e=i(this).closest(".accordion");accordionContent=$control.attr("aria-controls");for(var a=$control[0],o=0;o<s.length;o++)s[o]!=a&&"true"==i(s[o]).attr("aria-expanded")&&(i(s[o]).removeClass("active"),i(s[o]).attr("aria-expanded","false"),content=i(s[o]).attr("aria-controls"),i("#"+content).attr("aria-hidden","true"),i("#"+content).css("display","none"));isAriaExp=$control.attr("aria-expanded"),newAriaExp="false"==isAriaExp?"true":"false",$control.toggleClass("active"),$control.attr("aria-expanded",newAriaExp),isAriaHid=e.find("#"+accordionContent).attr("aria-hidden"),console.log(isAriaHid),i(".faq-answer-wrapper").css("display","none").attr("aria-hidden","true"),"true"===isAriaHid?e.find("#"+accordionContent).attr("aria-hidden","false").css("display","block"):e.find("#"+accordionContent).attr("aria-hidden","true").css("display","none")});var l=i(".toc-widget-block-nav.left-side-navigation"),r=i(".toc-widget-block-nav.top-navigation"),c=(i(".mob-toc-menu").on("click",function(t){l.toggleClass("active")}),i(".toc-widget-block-nav .close-btn").on("click",function(){l.removeClass("active")}),0);function t(){if(!(i(".page-template-container").length<1)){var t=i(".page-template-container .post-width").offset().top,e=i(".page-template-container .post-width").offset().left;if(l.css("top",t),l.css("left",e-(l.width()+17)),i(window).scrollTop()+i(window).height()>c){e=i(".page-template-container .post-width").offset().top+i(".page-template-container .post-width").outerHeight();l.css("bottom",i(window).scrollTop()+i(window).height()-e),l.css("top","unset")}else if(l.css("top",t),200<i(window).scrollTop()){let t=i(".page-template-container"),e=i(".page-template-container").offset().top;i(".page-template-container div:first-child").hasClass("disclaimer-language")||0<i(".page-template-container .disclaimer-position-above_content").length?(t=i(".disclaimer-language"),e=t.offset().top+t.outerHeight()):0<i(".breadcrumb").length&&i(".breadcrumb").closest(".page-hero-section").length<1&&(t=i(".breadcrumb"),e=t.offset().top+t.outerHeight()),t&&(0<e-i(window).scrollTop()?l.css("top",e-i(window).scrollTop()):0<i(".ncoa-header").length?(l.css("top",10+i(".ncoa-header .bottom-nav-block").outerHeight()),r.css("top",i(".ncoa-header .bottom-nav-block").outerHeight())):l.css("top","5%"))}}}0<i(".page-template-container").length&&(c=(i(".related-articles")[0]?i(".related-articles "):i("footer")).offset().top),window.matchMedia("(min-width: 1325px)").matches&&(i(window).ready(function(){t()}),i(window).resize(function(){t()}),i(window).scroll(function(){t()}));var d,h,p,m=i(".modal-button"),f=(i(".modal-content"),i(".modal-wrapper")),u=i(".close-modal"),g=i("#modal-title");function b(){p&&clearTimeout(p),p=setTimeout(function(){var e=window.pageYOffset;d.forEach(function(t){t.offsetTop<window.innerHeight+e&&(t.style=t.dataset.background,t.classList.remove("lazy-bg"))}),0==d.length&&(document.removeEventListener("scroll",b),window.removeEventListener("resize",b),window.removeEventListener("orientationChange",b))},20)}$mainContent=i(".page-template-container"),m.on("click",function(t){$mainContent.attr("aria-hidden","true"),f.attr("aria-hidden","false"),f.css("display","block"),g.focus(),$mainContent.on("focusin.modalOpen",function(t){u.focus()})}),u.on("click",function(t){f.attr("aria-hidden","true"),f.css("display","none"),$mainContent.attr("aria-hidden","false"),m.focus(),$mainContent.off(".modalOpen")}),-1!==window.location.hostname.indexOf("jppadmin")||i(".url_swap_running").length||i("a").each(function(){var t;-1<this.href.indexOf("jppadmin")&&(t=client_domain.replace(/\/$/,"")+"/",t=i(this).attr("href").replace(/^(?:[^\/]*\/){3}/,t),i(this).attr("href",t))}),i(".toh-header .search-button").on("click",function(t){i(".search-input-box").toggle()}),i(".search-input-box .submit-btn").on("click",function(t){var e="https://www.thisoldhouse.com/search?q="+i(this).closest(".search-input-box").find("input").val();i(this).attr("href",e)}),window.matchMedia("(min-width: 600px)").matches&&i(".global-header-link, .list__sub-items").hover(function(){var t=i(this).attr("data-nav-item-id");i(this).addClass("is-attached"),i('.list__sub-items[data-nav-item-id="'+t+'"]').addClass("is-attached")},function(){var t=i(this).attr("data-nav-item-id");i(this).removeClass("is-attached"),i('.list__sub-items[data-nav-item-id="'+t+'"]').removeClass("is-attached")}),i(".global-header-link.mobile-more").on("click",function(t){t.preventDefault(),i(this).toggleClass("is-attached"),i(".global-header-link.has-sublist").toggleClass("mobile-open"),i('.list__sub-items[data-nav-item-id="more"]').toggleClass("mobile-open")}),i(".global-header-link a").not(".list__sub-items a").on("click",function(t){t.preventDefault()}),i(".global-header-link").on("click",function(t){var e=i(this).attr("data-nav-item-id");i(this).toggleClass("is-attached"),i('.list__sub-items[data-nav-item-id="'+e+'"]').toggleClass("is-attached")}),window.matchMedia("(min-width: 400px)").matches&&(i(".global-header-link.mobile-more").on("click",function(t){t.preventDefault(),i(this).toggleClass("is-attached"),i('[data-nav-item-id="home-improvement-a-z"]').removeClass("is-attached")}),i('.global-header-link[data-nav-item-id="home-improvement-a-z"]').on("click",function(t){t.preventDefault(),i('.global-header-link.has-sublist:not([data-nav-item-id="more"])').removeClass("mobile-open"),i(".global-header-link.mobile-more").removeClass("is-attached"),i('.global-header-link.has-sublist[data-nav-item-id="more"]').removeClass("mobile-open")})),"IntersectionObserver"in window?(d=document.querySelectorAll(".lazy-bg"),h=new IntersectionObserver(function(t,e){t.forEach(function(t){t.isIntersecting&&((t=t.target).style=t.dataset.background,t.classList.remove("lazy-bg"),h.unobserve(t))})}),d.forEach(function(t){h.observe(t)})):(d=document.querySelectorAll(".lazy-bg"),document.addEventListener("scroll",b),window.addEventListener("resize",b),window.addEventListener("orientationChange",b))});